# @package _global_
defaults:
  - override /algorithm: pets
  - override /overrides: pets_cartpole
  - override /dynamics_model: gaussian_mlp_ensemble
  - override /action_optimizer: cem
  - _self_

experiment: pets_optimizer_benchmark

# Extra hyperparameters for optimizers that are not covered by the base override.
overrides:
  # Shared planning budget (fairness across optimizers)
  planning_samples_per_iter: 350
  planning_num_iters: 5

  # Worker configuration for multi-worker CEM variants
  cem_num_workers: 4
  # 4 * 88 = 352 total samples â‰ˆ 350 single-worker budget
  cem_population_size_per_worker: 88

  # CEM-family defaults (single-worker variants use the full per-iter budget)
  cem_population_decay_factor: 1.3
  cem_colored_noise_exponent: 2.0
  cem_keep_elite_frac: 0.3
  cem_population_size: ${overrides.planning_samples_per_iter}
  cem_num_iters: ${overrides.planning_num_iters}

  # NES
  nes_num_iters: ${overrides.planning_num_iters}
  nes_population_size: ${overrides.planning_samples_per_iter}
  nes_sigma: 1.0
  nes_lr_mean: 0.3
  nes_lr_sigma: 0.15
  nes_min_sigma: 1e-3
  nes_max_sigma: null

  # CMA-ES
  cma_num_iters: ${overrides.planning_num_iters}
  cma_population_size: ${overrides.planning_samples_per_iter}
  cma_elite_ratio: 0.25
  cma_sigma: 1.0
  cma_alpha: 0.2

  # MPPI
  mppi_num_iters: ${overrides.planning_num_iters}
  mppi_population_size: ${overrides.planning_samples_per_iter}
  mppi_gamma: 0.9
  mppi_sigma: 1.0
  mppi_beta: 0.9
